/* ======================================================================
   CALLOUT STYLES
   Extracted from globals.css for better organization
   ====================================================================== */

/* ======================================================================
   CALLOUT BOXES - Base
   ====================================================================== */
.callout {
  margin: var(--space-lg) 0;
  padding: var(--space-md);
  border-radius: var(--radius-md);
  border-left: 4px solid;
}

/* ====================================================================
   CALLOUT BASE STYLES (shared)
   ==================================================================== */
.callout-note,
.callout-warning,
.callout-tip,
.callout-important {
  border: 1px solid #dee2e6 !important;
  border-left: none !important;
  border-radius: 0 !important;
  padding: var(--space-md) !important;
  margin: var(--space-lg) 0 !important;
  margin-left: 4px !important;
  transform: none !important;
  clip-path: none !important;
  position: relative !important;
  overflow: hidden !important;
  max-width: 100% !important;
  box-sizing: border-box !important;
}

/* Hide ::before/::after ONLY when there's no title attribute */
.callout-note:not([title])::before,
.callout-note:not([title])::after,
.callout-note[title=""]::before,
.callout-note[title=""]::after,
.callout-warning:not([title])::before,
.callout-warning:not([title])::after,
.callout-warning[title=""]::before,
.callout-warning[title=""]::after,
.callout-tip:not([title])::before,
.callout-tip:not([title])::after,
.callout-tip[title=""]::before,
.callout-tip[title=""]::after,
.callout-important:not([title])::before,
.callout-important:not([title])::after,
.callout-important[title=""]::before,
.callout-important[title=""]::after {
  display: none !important;
  content: none !important;
  background: none !important;
}

/* Hide ::after on callouts with title (only need ::before for title) */
.callout-note[title]::after,
.callout-warning[title]::after,
.callout-tip[title]::after,
.callout-important[title]::after {
  display: none !important;
  content: none !important;
}

.callout-note h2,
.callout-warning h2,
.callout-tip h2,
.callout-important h2,
.chapter-content .callout-note h2,
.chapter-content .callout-warning h2,
.chapter-content .callout-tip h2,
.chapter-content .callout-important h2 {
  font-size: var(--text-base) !important;
  font-weight: 600 !important;
  margin: 0 !important;
  padding: var(--space-sm) var(--space-md) var(--space-sm) var(--space-md) !important;
  border: none !important;
  border-bottom: none !important;
}

.callout-note p,
.callout-warning p,
.callout-tip p,
.callout-important p {
  font-size: var(--text-base);
  line-height: var(--leading-relaxed);
  padding: var(--space-sm) var(--space-md) var(--space-sm) var(--space-md);
}

/* Display title from title attribute - match h2 styling */
.callout-note[title]:not([title=""])::before,
.callout-warning[title]:not([title=""])::before,
.callout-tip[title]:not([title=""])::before,
.callout-important[title]:not([title=""])::before {
  content: attr(title) !important;
  display: block !important;
  font-weight: 600;
  font-size: var(--text-base);
  padding: var(--space-sm) var(--space-md);
  margin: 0;
  margin-bottom: var(--space-sm);
}

.callout-note[title]:not([title=""])::before {
  content: "ⓘ " attr(title) !important;
  color: #1a1a1a;
  background-color: #eef4f8;
}

.callout-warning[title]:not([title=""])::before {
  content: "⚠ " attr(title) !important;
  color: #d35400;
  background-color: #fdf0e0;
}

.callout-tip[title]:not([title=""])::before {
  content: "☑ " attr(title) !important;
  color: #2d5a2d;
  background-color: #e8f5e8;
}

.callout-important[title]:not([title=""])::before {
  content: "❗ " attr(title) !important;
  color: #8b1c1c;
  background-color: #fce8e8;
}

/* Dark mode title colors */
.dark .callout-note[title]:not([title=""])::before {
  color: #e5e5e5;
  background-color: #3a4550;
}

.dark .callout-warning[title]:not([title=""])::before {
  color: #f5a623;
  background-color: #4a3a2a;
}

.dark .callout-tip[title]:not([title=""])::before {
  color: #8fdf8f;
  background-color: #2a3a2a;
}

.dark .callout-important[title]:not([title=""])::before {
  color: #f58f8f;
  background-color: #4a2a2a;
}

/* ====================================================================
   KEY QUESTION / CONCEPTUAL QUESTION CALLOUT (callout-note)
   Blue left strip, light gray background
   ==================================================================== */
.callout-note {
  background-color: #f8f9fa !important;
  box-shadow: -4px 0 0 0 #6ba3d6 !important;
}

.callout-note h2,
.chapter-content .callout-note h2 {
  color: #1a1a1a !important;
  background-color: #eef4f8 !important;
}

.dark .callout-note {
  background-color: #2d2d2d !important;
  border-color: #4a4a4a !important;
}

.dark .callout-note h2,
.dark .chapter-content .callout-note h2 {
  color: #e5e5e5 !important;
  background-color: #3a4550 !important;
}

/* ====================================================================
   IMPORTANT DISTINCTION CALLOUT (callout-warning)
   Orange left strip, light cream background
   ==================================================================== */
.callout-warning {
  background-color: #fdf8f0 !important;
  border-color: #e8e0d5 !important;
  box-shadow: -4px 0 0 0 #e67e22 !important;
}

.callout-warning h2,
.chapter-content .callout-warning h2 {
  color: #d35400 !important;
  background-color: #fdf0e0 !important;
}

.dark .callout-warning {
  background-color: #3d2d1d !important;
  border-color: #5a4a3a !important;
}

.dark .callout-warning h2,
.dark .chapter-content .callout-warning h2 {
  color: #f5a623 !important;
  background-color: #4a3a2a !important;
}

/* ====================================================================
   ANSWER CALLOUT (callout-tip) - Collapsible
   Green left strip, light green background
   ==================================================================== */
.callout-tip {
  background-color: #f8faf8 !important;
  border-color: #d4e6d4 !important;
  box-shadow: -4px 0 0 0 #5cb85c !important;
}

.callout-tip h2,
.chapter-content .callout-tip h2 {
  color: #2d5a2d !important;
  background-color: #e8f5e8 !important;
}

.dark .callout-tip {
  background-color: #1d2d1d !important;
  border-color: #3a4a3a !important;
}

.dark .callout-tip h2,
.dark .chapter-content .callout-tip h2 {
  color: #8fdf8f !important;
  background-color: #2a3a2a !important;
}

/* ====================================================================
   DEFINITIONS CALLOUT (callout-important)
   Red left strip, light pink background
   ==================================================================== */
.callout-important {
  background-color: #fdf8f8 !important;
  border-color: #e8d5d5 !important;
  box-shadow: -4px 0 0 0 #cc5c5c !important;
}

.callout-important h2,
.chapter-content .callout-important h2 {
  color: #8b1c1c !important;
  background-color: #fce8e8 !important;
}

.dark .callout-important {
  background-color: #3d1d1d !important;
  border-color: #5a3a3a !important;
}

.dark .callout-important h2,
.dark .chapter-content .callout-important h2 {
  color: #f58f8f !important;
  background-color: #4a2a2a !important;
}

/* ====================================================================
   COLLAPSIBLE CALLOUT STYLES
   Used for Answer callouts with data-collapse="true"
   ==================================================================== */

/* Target h2 inside any collapsible callout */
[data-collapse="true"] > h2,
.callout-collapse-header {
  cursor: pointer;
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  user-select: none;
}

[data-collapse="true"] > h2:hover,
.callout-collapse-header:hover {
  filter: brightness(0.95);
}

/* Chevron icon using CSS */
[data-collapse="true"] > h2::after,
.callout-collapse-header::after {
  content: "" !important;
  display: block !important;
  width: 10px;
  height: 10px;
  border-right: 2px solid currentColor;
  border-bottom: 2px solid currentColor;
  transform: rotate(45deg) translateY(-2px);
  /* transition: transform 0.2s ease; */
  flex-shrink: 0;
  margin-left: auto;
  opacity: 0.6;
}

/* Collapsed state - chevron points right */
.callout-collapsed > h2::after,
.callout-collapsed .callout-collapse-header::after {
  transform: rotate(-45deg);
}

/* Expanded state - chevron points down (default) */
[data-collapse="true"]:not(.callout-collapsed) > h2::after {
  transform: rotate(45deg) translateY(-2px);
}

.callout-collapse-content {
  max-height: 2000px;
  overflow: hidden;
  transition: max-height 0.3s ease, opacity 0.2s ease, padding 0.3s ease;
  opacity: 1;
}

.callout-collapsed .callout-collapse-content {
  max-height: 0;
  opacity: 0;
  padding-top: 0 !important;
  padding-bottom: 0 !important;
}

/* Fallback: Hide content directly if no wrapper exists */
.callout-collapsed > p,
.callout-collapsed > ul,
.callout-collapsed > ol,
.callout-collapsed > div:not(.callout-collapse-content) {
  display: none;
}

/* Generic callout with data-title attribute */
.callout[data-title]::before {
  content: attr(data-title);
  display: block;
  font-weight: 700;
  font-size: var(--text-lg);
  margin-bottom: var(--space-sm);
  color: var(--foreground);
}

.callout[data-title=""]::before {
  display: none;
}

/* ======================================================================
   BERKELEY BRANDED CALLOUTS
   Six categories with official Berkeley colors
   Usage: Add class like .callout-pedagogical to any callout div
   ====================================================================== */

/* Berkeley Color Variables */
:root {
  --berkeley-medalist: #C4820E;
  --berkeley-medalist-dark: #8B5A00;
  --berkeley-medalist-bg: rgba(196, 130, 14, 0.08);

  --berkeley-blue: #003262;
  --berkeley-blue-bg: rgba(0, 50, 98, 0.05);

  --berkeley-sather-gate: #B9D3B6;
  --berkeley-sather-gate-dark: #6B9067;
  --berkeley-sather-gate-bg: rgba(185, 211, 182, 0.12);

  --berkeley-lawrence: #00B0DA;
  --berkeley-lawrence-dark: #007B9A;
  --berkeley-lawrence-bg: rgba(0, 176, 218, 0.08);

  --berkeley-bay-fog: #C2B9A7;
  --berkeley-bay-fog-dark: #6B5E4F;
  --berkeley-bay-fog-bg: rgba(194, 185, 167, 0.12);

  --berkeley-rose-garden: #EE1F60;
  --berkeley-rose-garden-dark: #C41850;
  --berkeley-rose-garden-bg: rgba(238, 31, 96, 0.05);
}

/* Dark mode adjustments for Berkeley callouts */
.dark {
  --berkeley-medalist-bg: rgba(196, 130, 14, 0.15);
  --berkeley-blue-bg: rgba(0, 50, 98, 0.12);
  --berkeley-sather-gate-bg: rgba(185, 211, 182, 0.08);
  --berkeley-lawrence-bg: rgba(0, 176, 218, 0.12);
  --berkeley-bay-fog-bg: rgba(194, 185, 167, 0.08);
  --berkeley-rose-garden-bg: rgba(238, 31, 96, 0.12);
}

/* Base styles for Berkeley callouts */
.callout-pedagogical,
.callout-foundational,
.callout-insights,
.callout-motivation,
.callout-examples,
.callout-cautions {
  border: 1px solid #dee2e6 !important;
  border-left: none !important;
  border-radius: 0 !important;
  padding: var(--space-md) !important;
  margin: var(--space-lg) 0 !important;
  margin-left: 4px !important;
  position: relative !important;
  overflow: hidden !important;
  max-width: 100% !important;
  box-sizing: border-box !important;
}

/* ====================================================================
   1. PEDAGOGICAL / INTERACTIVE (Medalist)
   For: Questions, Answers, Worked Examples
   ==================================================================== */
.callout-pedagogical {
  background-color: #fefbf5 !important;
  box-shadow: -4px 0 0 0 var(--berkeley-medalist) !important;
}

.callout-pedagogical h2,
.chapter-content .callout-pedagogical h2 {
  color: var(--berkeley-medalist-dark) !important;
  background-color: #fef8ed !important;
  font-size: var(--text-base) !important;
  font-weight: 600 !important;
  margin: 0 !important;
  padding: var(--space-sm) var(--space-md) !important;
  border: none !important;
}

.dark .callout-pedagogical {
  background-color: #3d3020 !important;
  border-color: #4a4a4a !important;
}

.dark .callout-pedagogical h2,
.dark .chapter-content .callout-pedagogical h2 {
  color: #f5c775 !important;
  background-color: #4a3a2a !important;
}

/* ====================================================================
   2. FOUNDATIONAL CONCEPTS (Berkeley Blue)
   For: Definitions, Theorems
   ==================================================================== */
.callout-foundational {
  background-color: #f5f7fa !important;
  box-shadow: -4px 0 0 0 var(--berkeley-blue) !important;
}

.callout-foundational h2,
.chapter-content .callout-foundational h2 {
  color: var(--berkeley-blue) !important;
  background-color: #eef2f8 !important;
  font-size: var(--text-base) !important;
  font-weight: 600 !important;
  margin: 0 !important;
  padding: var(--space-sm) var(--space-md) !important;
  border: none !important;
}

.dark .callout-foundational {
  background-color: #1f2837 !important;
  border-color: #4a4a4a !important;
}

.dark .callout-foundational h2,
.dark .chapter-content .callout-foundational h2 {
  color: #4a90c2 !important;
  background-color: #2a3a4a !important;
}

/* ====================================================================
   3. INSIGHTS & CONNECTIONS (Sather Gate)
   For: Key Insights, Technical Notes
   ==================================================================== */
.callout-insights {
  background-color: #f7faf7 !important;
  box-shadow: -4px 0 0 0 var(--berkeley-sather-gate) !important;
}

.callout-insights h2,
.chapter-content .callout-insights h2 {
  color: var(--berkeley-sather-gate-dark) !important;
  background-color: #eef5ee !important;
  font-size: var(--text-base) !important;
  font-weight: 600 !important;
  margin: 0 !important;
  padding: var(--space-sm) var(--space-md) !important;
  border: none !important;
}

.dark .callout-insights {
  background-color: #232d23 !important;
  border-color: #4a4a4a !important;
}

.dark .callout-insights h2,
.dark .chapter-content .callout-insights h2 {
  color: #9fcd9b !important;
  background-color: #2a3a2a !important;
}

/* ====================================================================
   4. MOTIVATION & CONTEXT (Lawrence)
   For: Why This Matters
   ==================================================================== */
.callout-motivation {
  background-color: #f5fbfd !important;
  box-shadow: -4px 0 0 0 var(--berkeley-lawrence) !important;
}

.callout-motivation h2,
.chapter-content .callout-motivation h2 {
  color: var(--berkeley-lawrence-dark) !important;
  background-color: #e8f6fc !important;
  font-size: var(--text-base) !important;
  font-weight: 600 !important;
  margin: 0 !important;
  padding: var(--space-sm) var(--space-md) !important;
  border: none !important;
}

.dark .callout-motivation {
  background-color: #1a2d35 !important;
  border-color: #4a4a4a !important;
}

.dark .callout-motivation h2,
.dark .chapter-content .callout-motivation h2 {
  color: #5fc8ed !important;
  background-color: #2a3a45 !important;
}

/* ====================================================================
   5. EXAMPLES (Bay Fog)
   For: Examples, Case Studies
   ==================================================================== */
.callout-examples {
  background-color: #fafaf8 !important;
  box-shadow: -4px 0 0 0 var(--berkeley-bay-fog) !important;
}

.callout-examples h2,
.chapter-content .callout-examples h2 {
  color: var(--berkeley-bay-fog-dark) !important;
  background-color: #f5f3ef !important;
  font-size: var(--text-base) !important;
  font-weight: 600 !important;
  margin: 0 !important;
  padding: var(--space-sm) var(--space-md) !important;
  border: none !important;
}

.dark .callout-examples {
  background-color: #2d2c28 !important;
  border-color: #4a4a4a !important;
}

.dark .callout-examples h2,
.dark .chapter-content .callout-examples h2 {
  color: #d4cbbf !important;
  background-color: #3a3a35 !important;
}

/* ====================================================================
   6. CAUTIONS (Rose Garden)
   For: Warnings, Common Mistakes
   ==================================================================== */
.callout-cautions {
  background-color: #fef7f9 !important;
  box-shadow: -4px 0 0 0 var(--berkeley-rose-garden) !important;
}

.callout-cautions h2,
.chapter-content .callout-cautions h2 {
  color: var(--berkeley-rose-garden-dark) !important;
  background-color: #fceef3 !important;
  font-size: var(--text-base) !important;
  font-weight: 600 !important;
  margin: 0 !important;
  padding: var(--space-sm) var(--space-md) !important;
  border: none !important;
}

.dark .callout-cautions {
  background-color: #3d1d28 !important;
  border-color: #4a4a4a !important;
}

.dark .callout-cautions h2,
.dark .chapter-content .callout-cautions h2 {
  color: #f58fb8 !important;
  background-color: #4a2a35 !important;
}

/* Shared paragraph styling for Berkeley callouts */
.callout-pedagogical p,
.callout-foundational p,
.callout-insights p,
.callout-motivation p,
.callout-examples p,
.callout-cautions p {
  font-size: var(--text-base);
  line-height: var(--leading-relaxed);
  padding: var(--space-sm) var(--space-md);
}
